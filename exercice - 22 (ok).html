<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>JavaScript & DOM : Le Modèle Objet du Document - Exercice 22</title>
  </head>
  <body>
    <h1>Titre principal</h1>
    <ul>
      <li>Premier point</li>
      <li>Deuxième point</li>
      <li>Troisième point</li>
    </ul>
    <div>
      <div>
        <h2><span>1</span>. Titre de la première section</h2>
        <p>
          <span>1.1</span>. Premier paragraphe de la première section et un
          <a href="#">lien</a>.
        </p>
        <p>
          <span>1.2</span>. Deuxième paragraphe de la deuxième section et un
          <a href="#">lien</a>.
        </p>
      </div>
      <div>
        <h2><span>2</span>. Titre de la deuxième section</h2>
        <p>
          <span>2.1</span>. Premier paragraphe de la deuxième section et un
          <a href="#">lien</a>.
        </p>
        <p>
          <span>2.2</span>. Deuxième paragraphe de la deuxième section et un
          <a href="#">lien</a>.
        </p>
      </div>
      <div>
        <h2><span>3</span>. Titre de la troisième section</h2>
        <p>
          <span>3.1</span>. Premier paragraphe de la troisième section et un
          <a href="#">lien</a>.
        </p>
        <p>
          <span>3.2</span>. Deuxième paragraphe de la troisième section et un
          <a href="#">lien</a>.
        </p>
      </div>
      <form action="http://www.google.com" method="GET" id="form">
        <label for="input">Veuillez saisir du texte :</label>
        <input type="text" name="input" id="input" />
        <button type="submit">Chercher</button>
      </form>
    </div>
    <script>
      let input = document.getElementById("input");
      let form = document.getElementById("form");
      let btn = document.querySelector("button");
      btn.style.cssText =
        "border: 1px solid black; background-color: lightblue; border-radius: 20px; width: 100px; height: 30px; font-size: 1.1em; font-weight: bold; box-shadow: 2px 2px 3px; padding: auto";

      form.addEventListener("submit", function (event) {
        if (input.value == "") {
          event.preventDefault();
          let newP = document.createElement("p");
          newP.setAttribute("class", "erreur");
          let text = document.createTextNode("Erreur");
          newP.appendChild(text);
          document.querySelector("form").appendChild(newP);
        } else {
          alert(input.value);
        }
      });
      //Énoncé :

      /*
        Créez un formulaire avec un champ de saisie et un bouton submit. L'attribut action du formulaire sera : http://www.google.com, l'attribut method sera : GET.
      */
      // FAIT
      /*
        1. A la soumission du formulaire (évènement onsubmit spécifique aux éléments HTML de type form), afficher dans une boite de dialogue la valeur saisie dans le champ de saisie du formulaire. (l'attribut correspondant à la valeur du champ porte le même nom que la propriété de l'objet correspondant en mémoire).
      */
      // FAIT
      /*
        2. A la soumission du formulaire, SI le champ est vide, je crée une élément HTML de type p avec la class erreur et je l'ajoute dans le document en dessous du formulaire et j'empêche le formulaire d'être envoyé par le navigateur Internet.
      */
      // FAIT
      /*
        Astuce : Si dans un gestionnaire d'évènement (fonction/méthode associée à l'événement), j'exécute la méthode .preventDefault() de l'objet d'évènement, le navigateur Internet ne poursuit pas le comportement par défaut associé à l'événement. Cette méthode est documentée sur le MDN ici : https://developer.mozilla.org/fr/docs/Web/API/Event/preventDefault
      */
    </script>
  </body>
</html>
